-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: May 23, 2024 at 08:00 AM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `doan1`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `InsertDetailImport` ()   BEGIN
    DECLARE idim INT DEFAULT 1;
    DECLARE idpr INT;
    DECLARE quantity INT;
    
    WHILE idim <= 21 DO
        SET idpr = 1;  -- Reset IDPR for each new IDIM
        SET quantity = 5 * idim;  -- Calculate quantity based on IDIM
        WHILE idpr <= 36 DO
            INSERT INTO detailimport (IDPR, IDIM, QUANITY, IMPROTPRICE, IDCO) 
            VALUES (idpr, idim, quantity, 100000, idim);
            SET idpr = idpr + 1;
        END WHILE;
        SET idim = idim + 1;
    END WHILE;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `InsertRandomDetailOrders` ()   BEGIN
    DECLARE i INT DEFAULT 0;
    DECLARE rand_idpr INT;
    DECLARE rand_quanity INT;
    DECLARE rand_idor INT;
    DECLARE rand_idco INT;
    DECLARE rand_payment DOUBLE;
    DECLARE rand_cost FLOAT;

    WHILE i < 50 DO
        -- Lấy giá trị ngẫu nhiên
        SET rand_idpr = FLOOR(1 + RAND() * 36);
        SET rand_quanity = FLOOR(1 + RAND() * 100);
        SET rand_idor = FLOOR(1 + RAND() * 20);
        SET rand_idco = FLOOR(1 + RAND() * 20);

        -- Lấy giá trị COST từ bảng product dựa trên IDPR
        SELECT COST INTO rand_cost FROM product WHERE IDPR = rand_idpr;

        -- Tính giá trị PAYMENT
        SET rand_payment = rand_quanity * rand_cost;

        -- Chèn dữ liệu vào bảng detailorder
        INSERT INTO detailorder (IDPR, QUANITY, PAYMENT, IDOR, IDCO)
        VALUES (rand_idpr, rand_quanity, rand_payment, rand_idor, rand_idco);

        -- Tăng giá trị đếm
        SET i = i + 1;
    END WHILE;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `ability`
--

CREATE TABLE `ability` (
  `IDAB` int(11) NOT NULL,
  `NAME` varchar(50) NOT NULL DEFAULT '',
  `DESCRIPTION` varchar(500) NOT NULL DEFAULT '' COMMENT 'Giải thích chức năng làm được những gì'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Khả năng thực hiện, chức năng.';

--
-- Dumping data for table `ability`
--

INSERT INTO `ability` (`IDAB`, `NAME`, `DESCRIPTION`) VALUES
(1, 'TaoTaiKhoan', 'Tạo 1 tài khoản'),
(2, 'XemTaiKhoan', 'Xem tài khoản hiện tại'),
(3, 'XemDSTaiKhoan', 'Xem danh sách tài khoản'),
(4, 'SuaTaiKhoan', 'Sua thông tin tài khoản hiện tại'),
(5, 'CRUDTaiKhoan', 'CRUD Tai Khoan'),
(6, 'XemNCC', 'xem nhà cung cấp'),
(7, 'CRUDNCC', 'Thêm xóa sửa Nhà cung cấp'),
(8, 'XemTheLoai', 'Xem thể loại'),
(9, 'CRUDTheLoai', 'thêm xóa sửa thể loại'),
(10, 'CRUDPhieuNhap', 'CRUD Phieu Nhap'),
(11, 'XemPhieuNhap', 'xem phiếu nhập'),
(14, 'XemPhieuDat', 'xem phiếu đặt'),
(15, 'ThemPhieuDat', 'Thêm phiếu đặt'),
(16, 'CRUDPhieuDat', 'CRUD phiếu đặt'),
(21, 'CRUDCOLOR', 'thêm xóa sửa màu'),
(22, 'XemColor', 'xem màu'),
(25, 'XemSanPham', 'Xem sản phẩm'),
(26, 'CRUDSanPham', 'Xóa thêm sửa sản phẩm'),
(29, 'xem nhóm quyền', 'xem nhóm quyền'),
(30, 'CRUDNQ', 'thêm xóa sửa nhóm quyền'),
(31, 'KhachHang', 'Quyền phân biệt tài khoản khách hàng hay tài khoản của doanh nghiệp\r\n'),
(32, 'DoanhNghiep', 'Vô được trang quản lý\r\n'),
(33, 'XEMTHONGKE', 'Xem thống kê ');

-- --------------------------------------------------------

--
-- Table structure for table `account`
--

CREATE TABLE `account` (
  `IDAC` int(11) NOT NULL,
  `NUMBERPHONE` varchar(10) NOT NULL COMMENT 'Số điện thoại',
  `FULLNAME` varchar(50) NOT NULL DEFAULT '' COMMENT 'Tên đầy đủ',
  `GENDER` varchar(5) DEFAULT NULL COMMENT 'Giới tính',
  `PASSWORD` varchar(20) NOT NULL COMMENT 'Mật khẩu',
  `EMAIL` varchar(50) DEFAULT NULL COMMENT 'Email',
  `BIRTH` varchar(12) DEFAULT NULL COMMENT 'Ngày sinh',
  `ADRESS` varchar(50) DEFAULT NULL COMMENT 'Địa chỉ',
  `IDPE` int(20) NOT NULL,
  `status` char(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Tài khoản';

--
-- Dumping data for table `account`
--

INSERT INTO `account` (`IDAC`, `NUMBERPHONE`, `FULLNAME`, `GENDER`, `PASSWORD`, `EMAIL`, `BIRTH`, `ADRESS`, `IDPE`, `status`) VALUES
(11, '0123456789', 'John Doe', 'FEMAL', '2', 'john@example.com', '1990-01-01', '123 Main St, City, Country', 2, '1'),
(12, '0147483647', 'Nguyễn Minh C', 'Femal', '1', 'jane@example.com', '1985-05-15', '456 Elm St, Town, Country', 4, '1'),
(13, '2147483647', 'Michael Johnson', 'Male', 'mike456', 'mike@example.com', '1988-09-30', '789 Oak St, Village, Country', 1, '1'),
(14, '0432567890', 'Nguyễn Minh B', 'Femal', '1', 'emily@example.com', '1995-12-10', '101 Pine St, City, Country', 3, '1'),
(15, '0147483647', 'Nguyễn Minh D', 'Male', '1', 'william@example.com', '1980-07-20', '202 Cedar St, Town, Country', 5, '1'),
(16, '2147483647', 'Sophia Lee', 'Femal', 'sophia456', 'sophia@example.com', '1992-03-25', '303 Maple St, Village, Country', 4, '1'),
(17, '2147483647', 'James Taylor', 'Male', 'james789', 'james@example.com', '1975-11-05', '404 Oak St, City, Country', 5, '1'),
(18, '2147483647', 'Olivia Martinez', 'Femal', 'olivia123', 'olivia@example.com', '1983-08-12', '505 Elm St, Town, Country', 6, '1'),
(19, '2147483647', 'Benjamin Garcia', 'Male', 'benjamin456', 'benjamin@example.com', '1972-04-18', '606 Pine St, Village, Country', 5, '1'),
(20, '0247483647', 'Nguyễn Minh E', 'Femal', '1', 'emma@example.com', '1987-06-30', '707 Cedar St, City, Country', 6, '1'),
(21, '0815101016', 'Nguyễn Minh Phúc', 'MALE', '1', 'phucnguyenminh880@gmail.com', '2004-11-15', '1', 1, '1'),
(22, '0213456789', 'Nguyễn Minh A', 'MALE', '1', 'nguyenminha@gmail.com', NULL, NULL, 2, '1');

-- --------------------------------------------------------

--
-- Table structure for table `categories`
--

CREATE TABLE `categories` (
  `IDCA` int(10) NOT NULL,
  `NAME` varchar(50) NOT NULL,
  `status` char(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='LOẠI SẢN PHẨM';

--
-- Dumping data for table `categories`
--

INSERT INTO `categories` (`IDCA`, `NAME`, `status`) VALUES
(1, 'Loại khác', '1'),
(2, 'Áo Sơ Mi', '1'),
(3, 'Quần Jean', '1'),
(4, 'Quần Kaki', '1'),
(5, 'Áo Khoác', '1'),
(6, 'Đầm Dạ Hội', '1'),
(7, 'Váy', '1'),
(8, 'Áo Len', '1'),
(9, 'Quần Short', '1'),
(10, 'Áo Hoodie', '1');

-- --------------------------------------------------------

--
-- Table structure for table `color`
--

CREATE TABLE `color` (
  `IDCO` int(11) NOT NULL,
  `NAME` varchar(50) NOT NULL DEFAULT '',
  `status` char(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='MÀU SẮC';

--
-- Dumping data for table `color`
--

INSERT INTO `color` (`IDCO`, `NAME`, `status`) VALUES
(1, 'Màu Khác', '1'),
(2, 'Xanh dương', '1'),
(3, 'Vàng', '1'),
(4, 'Đen', '1'),
(5, 'Trắng', '1'),
(6, 'Hồng', '1'),
(7, 'Xanh lá cây', '1'),
(8, 'Cam', '1'),
(9, 'Tím', '1'),
(10, 'Xám', '1'),
(11, 'Nâu', '1'),
(12, 'Hồng phấn', '1'),
(13, 'Xanh lục', '1'),
(14, 'Be', '1'),
(15, 'Đỏ rượu vang', '1'),
(16, 'Hồng đậm', '1'),
(17, 'Xanh da trời', '1'),
(18, 'Vàng nghệ', '1'),
(19, 'Xanh lam', '1'),
(20, 'Hồng pastel', '1'),
(21, 'Đỏ', '1');

-- --------------------------------------------------------

--
-- Table structure for table `detailimport`
--

CREATE TABLE `detailimport` (
  `IDPR` int(11) NOT NULL,
  `IDIM` int(11) NOT NULL,
  `QUANITY` int(11) NOT NULL,
  `IMPROTPRICE` float NOT NULL,
  `IDCO` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Chi tiết phiếu nhập';

--
-- Dumping data for table `detailimport`
--

INSERT INTO `detailimport` (`IDPR`, `IDIM`, `QUANITY`, `IMPROTPRICE`, `IDCO`) VALUES
(1, 1, 5, 100000, 1),
(1, 2, 10, 100000, 2),
(1, 3, 15, 100000, 3),
(1, 4, 20, 100000, 4),
(1, 5, 25, 100000, 5),
(1, 6, 30, 100000, 6),
(1, 7, 35, 100000, 7),
(1, 8, 40, 100000, 8),
(1, 9, 45, 100000, 9),
(1, 10, 50, 100000, 10),
(1, 11, 55, 100000, 11),
(1, 12, 60, 100000, 12),
(1, 13, 65, 100000, 13),
(1, 14, 70, 100000, 14),
(1, 15, 75, 100000, 15),
(1, 16, 80, 100000, 16),
(1, 17, 85, 100000, 17),
(1, 18, 90, 100000, 18),
(1, 19, 95, 100000, 19),
(1, 20, 100, 100000, 20),
(1, 21, 105, 100000, 21),
(2, 1, 5, 100000, 1),
(2, 2, 10, 100000, 2),
(2, 3, 15, 100000, 3),
(2, 4, 20, 100000, 4),
(2, 5, 25, 100000, 5),
(2, 6, 30, 100000, 6),
(2, 7, 35, 100000, 7),
(2, 8, 40, 100000, 8),
(2, 9, 45, 100000, 9),
(2, 10, 50, 100000, 10),
(2, 11, 55, 100000, 11),
(2, 12, 60, 100000, 12),
(2, 13, 65, 100000, 13),
(2, 14, 70, 100000, 14),
(2, 15, 75, 100000, 15),
(2, 16, 80, 100000, 16),
(2, 17, 85, 100000, 17),
(2, 18, 90, 100000, 18),
(2, 19, 95, 100000, 19),
(2, 20, 100, 100000, 20),
(2, 21, 105, 100000, 21),
(3, 1, 5, 100000, 1),
(3, 2, 10, 100000, 2),
(3, 3, 15, 100000, 3),
(3, 4, 20, 100000, 4),
(3, 5, 25, 100000, 5),
(3, 6, 30, 100000, 6),
(3, 7, 35, 100000, 7),
(3, 8, 40, 100000, 8),
(3, 9, 45, 100000, 9),
(3, 10, 50, 100000, 10),
(3, 11, 55, 100000, 11),
(3, 12, 60, 100000, 12),
(3, 13, 65, 100000, 13),
(3, 14, 70, 100000, 14),
(3, 15, 75, 100000, 15),
(3, 16, 80, 100000, 16),
(3, 17, 85, 100000, 17),
(3, 18, 90, 100000, 18),
(3, 19, 95, 100000, 19),
(3, 20, 100, 100000, 20),
(3, 21, 105, 100000, 21),
(4, 1, 5, 100000, 1),
(4, 2, 10, 100000, 2),
(4, 3, 15, 100000, 3),
(4, 4, 20, 100000, 4),
(4, 5, 25, 100000, 5),
(4, 6, 30, 100000, 6),
(4, 7, 35, 100000, 7),
(4, 8, 40, 100000, 8),
(4, 9, 45, 100000, 9),
(4, 10, 50, 100000, 10),
(4, 11, 55, 100000, 11),
(4, 12, 60, 100000, 12),
(4, 13, 65, 100000, 13),
(4, 14, 70, 100000, 14),
(4, 15, 75, 100000, 15),
(4, 16, 80, 100000, 16),
(4, 17, 85, 100000, 17),
(4, 18, 90, 100000, 18),
(4, 19, 95, 100000, 19),
(4, 20, 100, 100000, 20),
(4, 21, 105, 100000, 21),
(5, 1, 5, 100000, 1),
(5, 2, 10, 100000, 2),
(5, 3, 15, 100000, 3),
(5, 4, 20, 100000, 4),
(5, 5, 25, 100000, 5),
(5, 6, 30, 100000, 6),
(5, 7, 35, 100000, 7),
(5, 8, 40, 100000, 8),
(5, 9, 45, 100000, 9),
(5, 10, 50, 100000, 10),
(5, 11, 55, 100000, 11),
(5, 12, 60, 100000, 12),
(5, 13, 65, 100000, 13),
(5, 14, 70, 100000, 14),
(5, 15, 75, 100000, 15),
(5, 16, 80, 100000, 16),
(5, 17, 85, 100000, 17),
(5, 18, 90, 100000, 18),
(5, 19, 95, 100000, 19),
(5, 20, 100, 100000, 20),
(5, 21, 105, 100000, 21),
(6, 1, 5, 100000, 1),
(6, 2, 10, 100000, 2),
(6, 3, 15, 100000, 3),
(6, 4, 20, 100000, 4),
(6, 5, 25, 100000, 5),
(6, 6, 30, 100000, 6),
(6, 7, 35, 100000, 7),
(6, 8, 40, 100000, 8),
(6, 9, 45, 100000, 9),
(6, 10, 50, 100000, 10),
(6, 11, 55, 100000, 11),
(6, 12, 60, 100000, 12),
(6, 13, 65, 100000, 13),
(6, 14, 70, 100000, 14),
(6, 15, 75, 100000, 15),
(6, 16, 80, 100000, 16),
(6, 17, 85, 100000, 17),
(6, 18, 90, 100000, 18),
(6, 19, 95, 100000, 19),
(6, 20, 100, 100000, 20),
(6, 21, 105, 100000, 21),
(7, 1, 5, 100000, 1),
(7, 2, 10, 100000, 2),
(7, 3, 15, 100000, 3),
(7, 4, 20, 100000, 4),
(7, 5, 25, 100000, 5),
(7, 6, 30, 100000, 6),
(7, 7, 35, 100000, 7),
(7, 8, 40, 100000, 8),
(7, 9, 45, 100000, 9),
(7, 10, 50, 100000, 10),
(7, 11, 55, 100000, 11),
(7, 12, 60, 100000, 12),
(7, 13, 65, 100000, 13),
(7, 14, 70, 100000, 14),
(7, 15, 75, 100000, 15),
(7, 16, 80, 100000, 16),
(7, 17, 85, 100000, 17),
(7, 18, 90, 100000, 18),
(7, 19, 95, 100000, 19),
(7, 20, 100, 100000, 20),
(7, 21, 105, 100000, 21),
(8, 1, 5, 100000, 1),
(8, 2, 10, 100000, 2),
(8, 3, 15, 100000, 3),
(8, 4, 20, 100000, 4),
(8, 5, 25, 100000, 5),
(8, 6, 30, 100000, 6),
(8, 7, 35, 100000, 7),
(8, 8, 40, 100000, 8),
(8, 9, 45, 100000, 9),
(8, 10, 50, 100000, 10),
(8, 11, 55, 100000, 11),
(8, 12, 60, 100000, 12),
(8, 13, 65, 100000, 13),
(8, 14, 70, 100000, 14),
(8, 15, 75, 100000, 15),
(8, 16, 80, 100000, 16),
(8, 17, 85, 100000, 17),
(8, 18, 90, 100000, 18),
(8, 19, 95, 100000, 19),
(8, 20, 100, 100000, 20),
(8, 21, 105, 100000, 21),
(9, 1, 5, 100000, 1),
(9, 2, 10, 100000, 2),
(9, 3, 15, 100000, 3),
(9, 4, 20, 100000, 4),
(9, 5, 25, 100000, 5),
(9, 6, 30, 100000, 6),
(9, 7, 35, 100000, 7),
(9, 8, 40, 100000, 8),
(9, 9, 45, 100000, 9),
(9, 10, 50, 100000, 10),
(9, 11, 55, 100000, 11),
(9, 12, 60, 100000, 12),
(9, 13, 65, 100000, 13),
(9, 14, 70, 100000, 14),
(9, 15, 75, 100000, 15),
(9, 16, 80, 100000, 16),
(9, 17, 85, 100000, 17),
(9, 18, 90, 100000, 18),
(9, 19, 95, 100000, 19),
(9, 20, 100, 100000, 20),
(9, 21, 105, 100000, 21),
(10, 1, 5, 100000, 1),
(10, 2, 10, 100000, 2),
(10, 3, 15, 100000, 3),
(10, 4, 20, 100000, 4),
(10, 5, 25, 100000, 5),
(10, 6, 30, 100000, 6),
(10, 7, 35, 100000, 7),
(10, 8, 40, 100000, 8),
(10, 9, 45, 100000, 9),
(10, 10, 50, 100000, 10),
(10, 11, 55, 100000, 11),
(10, 12, 60, 100000, 12),
(10, 13, 65, 100000, 13),
(10, 14, 70, 100000, 14),
(10, 15, 75, 100000, 15),
(10, 16, 80, 100000, 16),
(10, 17, 85, 100000, 17),
(10, 18, 90, 100000, 18),
(10, 19, 95, 100000, 19),
(10, 20, 100, 100000, 20),
(10, 21, 105, 100000, 21),
(11, 1, 5, 100000, 1),
(11, 2, 10, 100000, 2),
(11, 3, 15, 100000, 3),
(11, 4, 20, 100000, 4),
(11, 5, 25, 100000, 5),
(11, 6, 30, 100000, 6),
(11, 7, 35, 100000, 7),
(11, 8, 40, 100000, 8),
(11, 9, 45, 100000, 9),
(11, 10, 50, 100000, 10),
(11, 11, 55, 100000, 11),
(11, 12, 60, 100000, 12),
(11, 13, 65, 100000, 13),
(11, 14, 70, 100000, 14),
(11, 15, 75, 100000, 15),
(11, 16, 80, 100000, 16),
(11, 17, 85, 100000, 17),
(11, 18, 90, 100000, 18),
(11, 19, 95, 100000, 19),
(11, 20, 100, 100000, 20),
(11, 21, 105, 100000, 21),
(12, 1, 5, 100000, 1),
(12, 2, 10, 100000, 2),
(12, 3, 15, 100000, 3),
(12, 4, 20, 100000, 4),
(12, 5, 25, 100000, 5),
(12, 6, 30, 100000, 6),
(12, 7, 35, 100000, 7),
(12, 8, 40, 100000, 8),
(12, 9, 45, 100000, 9),
(12, 10, 50, 100000, 10),
(12, 11, 55, 100000, 11),
(12, 12, 60, 100000, 12),
(12, 13, 65, 100000, 13),
(12, 14, 70, 100000, 14),
(12, 15, 75, 100000, 15),
(12, 16, 80, 100000, 16),
(12, 17, 85, 100000, 17),
(12, 18, 90, 100000, 18),
(12, 19, 95, 100000, 19),
(12, 20, 100, 100000, 20),
(12, 21, 105, 100000, 21),
(13, 1, 5, 100000, 1),
(13, 2, 10, 100000, 2),
(13, 3, 15, 100000, 3),
(13, 4, 20, 100000, 4),
(13, 5, 25, 100000, 5),
(13, 6, 30, 100000, 6),
(13, 7, 35, 100000, 7),
(13, 8, 40, 100000, 8),
(13, 9, 45, 100000, 9),
(13, 10, 50, 100000, 10),
(13, 11, 55, 100000, 11),
(13, 12, 60, 100000, 12),
(13, 13, 65, 100000, 13),
(13, 14, 70, 100000, 14),
(13, 15, 75, 100000, 15),
(13, 16, 80, 100000, 16),
(13, 17, 85, 100000, 17),
(13, 18, 90, 100000, 18),
(13, 19, 95, 100000, 19),
(13, 20, 100, 100000, 20),
(13, 21, 105, 100000, 21),
(14, 1, 5, 100000, 1),
(14, 2, 10, 100000, 2),
(14, 3, 15, 100000, 3),
(14, 4, 20, 100000, 4),
(14, 5, 25, 100000, 5),
(14, 6, 30, 100000, 6),
(14, 7, 35, 100000, 7),
(14, 8, 40, 100000, 8),
(14, 9, 45, 100000, 9),
(14, 10, 50, 100000, 10),
(14, 11, 55, 100000, 11),
(14, 12, 60, 100000, 12),
(14, 13, 65, 100000, 13),
(14, 14, 70, 100000, 14),
(14, 15, 75, 100000, 15),
(14, 16, 80, 100000, 16),
(14, 17, 85, 100000, 17),
(14, 18, 90, 100000, 18),
(14, 19, 95, 100000, 19),
(14, 20, 100, 100000, 20),
(14, 21, 105, 100000, 21),
(15, 1, 5, 100000, 1),
(15, 2, 10, 100000, 2),
(15, 3, 15, 100000, 3),
(15, 4, 20, 100000, 4),
(15, 5, 25, 100000, 5),
(15, 6, 30, 100000, 6),
(15, 7, 35, 100000, 7),
(15, 8, 40, 100000, 8),
(15, 9, 45, 100000, 9),
(15, 10, 50, 100000, 10),
(15, 11, 55, 100000, 11),
(15, 12, 60, 100000, 12),
(15, 13, 65, 100000, 13),
(15, 14, 70, 100000, 14),
(15, 15, 75, 100000, 15),
(15, 16, 80, 100000, 16),
(15, 17, 85, 100000, 17),
(15, 18, 90, 100000, 18),
(15, 19, 95, 100000, 19),
(15, 20, 100, 100000, 20),
(15, 21, 105, 100000, 21),
(16, 1, 5, 100000, 1),
(16, 2, 10, 100000, 2),
(16, 3, 15, 100000, 3),
(16, 4, 20, 100000, 4),
(16, 5, 25, 100000, 5),
(16, 6, 30, 100000, 6),
(16, 7, 35, 100000, 7),
(16, 8, 40, 100000, 8),
(16, 9, 45, 100000, 9),
(16, 10, 50, 100000, 10),
(16, 11, 55, 100000, 11),
(16, 12, 60, 100000, 12),
(16, 13, 65, 100000, 13),
(16, 14, 70, 100000, 14),
(16, 15, 75, 100000, 15),
(16, 16, 80, 100000, 16),
(16, 17, 85, 100000, 17),
(16, 18, 90, 100000, 18),
(16, 19, 95, 100000, 19),
(16, 20, 100, 100000, 20),
(16, 21, 105, 100000, 21),
(17, 1, 5, 100000, 1),
(17, 2, 10, 100000, 2),
(17, 3, 15, 100000, 3),
(17, 4, 20, 100000, 4),
(17, 5, 25, 100000, 5),
(17, 6, 30, 100000, 6),
(17, 7, 35, 100000, 7),
(17, 8, 40, 100000, 8),
(17, 9, 45, 100000, 9),
(17, 10, 50, 100000, 10),
(17, 11, 55, 100000, 11),
(17, 12, 60, 100000, 12),
(17, 13, 65, 100000, 13),
(17, 14, 70, 100000, 14),
(17, 15, 75, 100000, 15),
(17, 16, 80, 100000, 16),
(17, 17, 85, 100000, 17),
(17, 18, 90, 100000, 18),
(17, 19, 95, 100000, 19),
(17, 20, 100, 100000, 20),
(17, 21, 105, 100000, 21),
(18, 1, 5, 100000, 1),
(18, 2, 10, 100000, 2),
(18, 3, 15, 100000, 3),
(18, 4, 20, 100000, 4),
(18, 5, 25, 100000, 5),
(18, 6, 30, 100000, 6),
(18, 7, 35, 100000, 7),
(18, 8, 40, 100000, 8),
(18, 9, 45, 100000, 9),
(18, 10, 50, 100000, 10),
(18, 11, 55, 100000, 11),
(18, 12, 60, 100000, 12),
(18, 13, 65, 100000, 13),
(18, 14, 70, 100000, 14),
(18, 15, 75, 100000, 15),
(18, 16, 80, 100000, 16),
(18, 17, 85, 100000, 17),
(18, 18, 90, 100000, 18),
(18, 19, 95, 100000, 19),
(18, 20, 100, 100000, 20),
(18, 21, 105, 100000, 21),
(19, 1, 5, 100000, 1),
(19, 2, 10, 100000, 2),
(19, 3, 15, 100000, 3),
(19, 4, 20, 100000, 4),
(19, 5, 25, 100000, 5),
(19, 6, 30, 100000, 6),
(19, 7, 35, 100000, 7),
(19, 8, 40, 100000, 8),
(19, 9, 45, 100000, 9),
(19, 10, 50, 100000, 10),
(19, 11, 55, 100000, 11),
(19, 12, 60, 100000, 12),
(19, 13, 65, 100000, 13),
(19, 14, 70, 100000, 14),
(19, 15, 75, 100000, 15),
(19, 16, 80, 100000, 16),
(19, 17, 85, 100000, 17),
(19, 18, 90, 100000, 18),
(19, 19, 95, 100000, 19),
(19, 20, 100, 100000, 20),
(19, 21, 105, 100000, 21),
(20, 1, 5, 100000, 1),
(20, 2, 10, 100000, 2),
(20, 3, 15, 100000, 3),
(20, 4, 20, 100000, 4),
(20, 5, 25, 100000, 5),
(20, 6, 30, 100000, 6),
(20, 7, 35, 100000, 7),
(20, 8, 40, 100000, 8),
(20, 9, 45, 100000, 9),
(20, 10, 50, 100000, 10),
(20, 11, 55, 100000, 11),
(20, 12, 60, 100000, 12),
(20, 13, 65, 100000, 13),
(20, 14, 70, 100000, 14),
(20, 15, 75, 100000, 15),
(20, 16, 80, 100000, 16),
(20, 17, 85, 100000, 17),
(20, 18, 90, 100000, 18),
(20, 19, 95, 100000, 19),
(20, 20, 100, 100000, 20),
(20, 21, 105, 100000, 21),
(21, 1, 5, 100000, 1),
(21, 2, 10, 100000, 2),
(21, 3, 15, 100000, 3),
(21, 4, 20, 100000, 4),
(21, 5, 25, 100000, 5),
(21, 6, 30, 100000, 6),
(21, 7, 35, 100000, 7),
(21, 8, 40, 100000, 8),
(21, 9, 45, 100000, 9),
(21, 10, 50, 100000, 10),
(21, 11, 55, 100000, 11),
(21, 12, 60, 100000, 12),
(21, 13, 65, 100000, 13),
(21, 14, 70, 100000, 14),
(21, 15, 75, 100000, 15),
(21, 16, 80, 100000, 16),
(21, 17, 85, 100000, 17),
(21, 18, 90, 100000, 18),
(21, 19, 95, 100000, 19),
(21, 20, 100, 100000, 20),
(21, 21, 105, 100000, 21),
(22, 1, 5, 100000, 1),
(22, 2, 10, 100000, 2),
(22, 3, 15, 100000, 3),
(22, 4, 20, 100000, 4),
(22, 5, 25, 100000, 5),
(22, 6, 30, 100000, 6),
(22, 7, 35, 100000, 7),
(22, 8, 40, 100000, 8),
(22, 9, 45, 100000, 9),
(22, 10, 50, 100000, 10),
(22, 11, 55, 100000, 11),
(22, 12, 60, 100000, 12),
(22, 13, 65, 100000, 13),
(22, 14, 70, 100000, 14),
(22, 15, 75, 100000, 15),
(22, 16, 80, 100000, 16),
(22, 17, 85, 100000, 17),
(22, 18, 90, 100000, 18),
(22, 19, 95, 100000, 19),
(22, 20, 100, 100000, 20),
(22, 21, 105, 100000, 21),
(23, 1, 5, 100000, 1),
(23, 2, 10, 100000, 2),
(23, 3, 15, 100000, 3),
(23, 4, 20, 100000, 4),
(23, 5, 25, 100000, 5),
(23, 6, 30, 100000, 6),
(23, 7, 35, 100000, 7),
(23, 8, 40, 100000, 8),
(23, 9, 45, 100000, 9),
(23, 10, 50, 100000, 10),
(23, 11, 55, 100000, 11),
(23, 12, 60, 100000, 12),
(23, 13, 65, 100000, 13),
(23, 14, 70, 100000, 14),
(23, 15, 75, 100000, 15),
(23, 16, 80, 100000, 16),
(23, 17, 85, 100000, 17),
(23, 18, 90, 100000, 18),
(23, 19, 95, 100000, 19),
(23, 20, 100, 100000, 20),
(23, 21, 105, 100000, 21),
(24, 1, 5, 100000, 1),
(24, 2, 10, 100000, 2),
(24, 3, 15, 100000, 3),
(24, 4, 20, 100000, 4),
(24, 5, 25, 100000, 5),
(24, 6, 30, 100000, 6),
(24, 7, 35, 100000, 7),
(24, 8, 40, 100000, 8),
(24, 9, 45, 100000, 9),
(24, 10, 50, 100000, 10),
(24, 11, 55, 100000, 11),
(24, 12, 60, 100000, 12),
(24, 13, 65, 100000, 13),
(24, 14, 70, 100000, 14),
(24, 15, 75, 100000, 15),
(24, 16, 80, 100000, 16),
(24, 17, 85, 100000, 17),
(24, 18, 90, 100000, 18),
(24, 19, 95, 100000, 19),
(24, 20, 100, 100000, 20),
(24, 21, 105, 100000, 21),
(25, 1, 5, 100000, 1),
(25, 2, 10, 100000, 2),
(25, 3, 15, 100000, 3),
(25, 4, 20, 100000, 4),
(25, 5, 25, 100000, 5),
(25, 6, 30, 100000, 6),
(25, 7, 35, 100000, 7),
(25, 8, 40, 100000, 8),
(25, 9, 45, 100000, 9),
(25, 10, 50, 100000, 10),
(25, 11, 55, 100000, 11),
(25, 12, 60, 100000, 12),
(25, 13, 65, 100000, 13),
(25, 14, 70, 100000, 14),
(25, 15, 75, 100000, 15),
(25, 16, 80, 100000, 16),
(25, 17, 85, 100000, 17),
(25, 18, 90, 100000, 18),
(25, 19, 95, 100000, 19),
(25, 20, 100, 100000, 20),
(25, 21, 105, 100000, 21),
(26, 1, 5, 100000, 1),
(26, 2, 10, 100000, 2),
(26, 3, 15, 100000, 3),
(26, 4, 20, 100000, 4),
(26, 5, 25, 100000, 5),
(26, 6, 30, 100000, 6),
(26, 7, 35, 100000, 7),
(26, 8, 40, 100000, 8),
(26, 9, 45, 100000, 9),
(26, 10, 50, 100000, 10),
(26, 11, 55, 100000, 11),
(26, 12, 60, 100000, 12),
(26, 13, 65, 100000, 13),
(26, 14, 70, 100000, 14),
(26, 15, 75, 100000, 15),
(26, 16, 80, 100000, 16),
(26, 17, 85, 100000, 17),
(26, 18, 90, 100000, 18),
(26, 19, 95, 100000, 19),
(26, 20, 100, 100000, 20),
(26, 21, 105, 100000, 21),
(27, 1, 5, 100000, 1),
(27, 2, 10, 100000, 2),
(27, 3, 15, 100000, 3),
(27, 4, 20, 100000, 4),
(27, 5, 25, 100000, 5),
(27, 6, 30, 100000, 6),
(27, 7, 35, 100000, 7),
(27, 8, 40, 100000, 8),
(27, 9, 45, 100000, 9),
(27, 10, 50, 100000, 10),
(27, 11, 55, 100000, 11),
(27, 12, 60, 100000, 12),
(27, 13, 65, 100000, 13),
(27, 14, 70, 100000, 14),
(27, 15, 75, 100000, 15),
(27, 16, 80, 100000, 16),
(27, 17, 85, 100000, 17),
(27, 18, 90, 100000, 18),
(27, 19, 95, 100000, 19),
(27, 20, 100, 100000, 20),
(27, 21, 105, 100000, 21),
(28, 1, 5, 100000, 1),
(28, 2, 10, 100000, 2),
(28, 3, 15, 100000, 3),
(28, 4, 20, 100000, 4),
(28, 5, 25, 100000, 5),
(28, 6, 30, 100000, 6),
(28, 7, 35, 100000, 7),
(28, 8, 40, 100000, 8),
(28, 9, 45, 100000, 9),
(28, 10, 50, 100000, 10),
(28, 11, 55, 100000, 11),
(28, 12, 60, 100000, 12),
(28, 13, 65, 100000, 13),
(28, 14, 70, 100000, 14),
(28, 15, 75, 100000, 15),
(28, 16, 80, 100000, 16),
(28, 17, 85, 100000, 17),
(28, 18, 90, 100000, 18),
(28, 19, 95, 100000, 19),
(28, 20, 100, 100000, 20),
(28, 21, 105, 100000, 21),
(29, 1, 5, 100000, 1),
(29, 2, 10, 100000, 2),
(29, 3, 15, 100000, 3),
(29, 4, 20, 100000, 4),
(29, 5, 25, 100000, 5),
(29, 6, 30, 100000, 6),
(29, 7, 35, 100000, 7),
(29, 8, 40, 100000, 8),
(29, 9, 45, 100000, 9),
(29, 10, 50, 100000, 10),
(29, 11, 55, 100000, 11),
(29, 12, 60, 100000, 12),
(29, 13, 65, 100000, 13),
(29, 14, 70, 100000, 14),
(29, 15, 75, 100000, 15),
(29, 16, 80, 100000, 16),
(29, 17, 85, 100000, 17),
(29, 18, 90, 100000, 18),
(29, 19, 95, 100000, 19),
(29, 20, 100, 100000, 20),
(29, 21, 105, 100000, 21),
(30, 1, 5, 100000, 1),
(30, 2, 10, 100000, 2),
(30, 3, 15, 100000, 3),
(30, 4, 20, 100000, 4),
(30, 5, 25, 100000, 5),
(30, 6, 30, 100000, 6),
(30, 7, 35, 100000, 7),
(30, 8, 40, 100000, 8),
(30, 9, 45, 100000, 9),
(30, 10, 50, 100000, 10),
(30, 11, 55, 100000, 11),
(30, 12, 60, 100000, 12),
(30, 13, 65, 100000, 13),
(30, 14, 70, 100000, 14),
(30, 15, 75, 100000, 15),
(30, 16, 80, 100000, 16),
(30, 17, 85, 100000, 17),
(30, 18, 90, 100000, 18),
(30, 19, 95, 100000, 19),
(30, 20, 100, 100000, 20),
(30, 21, 105, 100000, 21),
(31, 1, 5, 100000, 1),
(31, 2, 10, 100000, 2),
(31, 3, 15, 100000, 3),
(31, 4, 20, 100000, 4),
(31, 5, 25, 100000, 5),
(31, 6, 30, 100000, 6),
(31, 7, 35, 100000, 7),
(31, 8, 40, 100000, 8),
(31, 9, 45, 100000, 9),
(31, 10, 50, 100000, 10),
(31, 11, 55, 100000, 11),
(31, 12, 60, 100000, 12),
(31, 13, 65, 100000, 13),
(31, 14, 70, 100000, 14),
(31, 15, 75, 100000, 15),
(31, 16, 80, 100000, 16),
(31, 17, 85, 100000, 17),
(31, 18, 90, 100000, 18),
(31, 19, 95, 100000, 19),
(31, 20, 100, 100000, 20),
(31, 21, 105, 100000, 21),
(32, 1, 5, 100000, 1),
(32, 2, 10, 100000, 2),
(32, 3, 15, 100000, 3),
(32, 4, 20, 100000, 4),
(32, 5, 25, 100000, 5),
(32, 6, 30, 100000, 6),
(32, 7, 35, 100000, 7),
(32, 8, 40, 100000, 8),
(32, 9, 45, 100000, 9),
(32, 10, 50, 100000, 10),
(32, 11, 55, 100000, 11),
(32, 12, 60, 100000, 12),
(32, 13, 65, 100000, 13),
(32, 14, 70, 100000, 14),
(32, 15, 75, 100000, 15),
(32, 16, 80, 100000, 16),
(32, 17, 85, 100000, 17),
(32, 18, 90, 100000, 18),
(32, 19, 95, 100000, 19),
(32, 20, 100, 100000, 20),
(32, 21, 105, 100000, 21),
(33, 1, 5, 100000, 1),
(33, 2, 10, 100000, 2),
(33, 3, 15, 100000, 3),
(33, 4, 20, 100000, 4),
(33, 5, 25, 100000, 5),
(33, 6, 30, 100000, 6),
(33, 7, 35, 100000, 7),
(33, 8, 40, 100000, 8),
(33, 9, 45, 100000, 9),
(33, 10, 50, 100000, 10),
(33, 11, 55, 100000, 11),
(33, 12, 60, 100000, 12),
(33, 13, 65, 100000, 13),
(33, 14, 70, 100000, 14),
(33, 15, 75, 100000, 15),
(33, 16, 80, 100000, 16),
(33, 17, 85, 100000, 17),
(33, 18, 90, 100000, 18),
(33, 19, 95, 100000, 19),
(33, 20, 100, 100000, 20),
(33, 21, 105, 100000, 21),
(34, 1, 5, 100000, 1),
(34, 2, 10, 100000, 2),
(34, 3, 15, 100000, 3),
(34, 4, 20, 100000, 4),
(34, 5, 25, 100000, 5),
(34, 6, 30, 100000, 6),
(34, 7, 35, 100000, 7),
(34, 8, 40, 100000, 8),
(34, 9, 45, 100000, 9),
(34, 10, 50, 100000, 10),
(34, 11, 55, 100000, 11),
(34, 12, 60, 100000, 12),
(34, 13, 65, 100000, 13),
(34, 14, 70, 100000, 14),
(34, 15, 75, 100000, 15),
(34, 16, 80, 100000, 16),
(34, 17, 85, 100000, 17),
(34, 18, 90, 100000, 18),
(34, 19, 95, 100000, 19),
(34, 20, 100, 100000, 20),
(34, 21, 105, 100000, 21),
(35, 1, 5, 100000, 1),
(35, 2, 10, 100000, 2),
(35, 3, 15, 100000, 3),
(35, 4, 20, 100000, 4),
(35, 5, 25, 100000, 5),
(35, 6, 30, 100000, 6),
(35, 7, 35, 100000, 7),
(35, 8, 40, 100000, 8),
(35, 9, 45, 100000, 9),
(35, 10, 50, 100000, 10),
(35, 11, 55, 100000, 11),
(35, 12, 60, 100000, 12),
(35, 13, 65, 100000, 13),
(35, 14, 70, 100000, 14),
(35, 15, 75, 100000, 15),
(35, 16, 80, 100000, 16),
(35, 17, 85, 100000, 17),
(35, 18, 90, 100000, 18),
(35, 19, 95, 100000, 19),
(35, 20, 100, 100000, 20),
(35, 21, 105, 100000, 21),
(36, 1, 5, 100000, 1),
(36, 2, 10, 100000, 2),
(36, 3, 15, 100000, 3),
(36, 4, 20, 100000, 4),
(36, 5, 25, 100000, 5),
(36, 6, 30, 100000, 6),
(36, 7, 35, 100000, 7),
(36, 8, 40, 100000, 8),
(36, 9, 45, 100000, 9),
(36, 10, 50, 100000, 10),
(36, 11, 55, 100000, 11),
(36, 12, 60, 100000, 12),
(36, 13, 65, 100000, 13),
(36, 14, 70, 100000, 14),
(36, 15, 75, 100000, 15),
(36, 16, 80, 100000, 16),
(36, 17, 85, 100000, 17),
(36, 18, 90, 100000, 18),
(36, 19, 95, 100000, 19),
(36, 20, 100, 100000, 20),
(36, 21, 105, 100000, 21);

--
-- Triggers `detailimport`
--
DELIMITER $$
CREATE TRIGGER `after_insert_detailimport` AFTER INSERT ON `detailimport` FOR EACH ROW BEGIN
    DECLARE total_quantity INT;

    -- Tính tổng số lượng từ bảng detailimport
    SELECT SUM(QUANITY) INTO total_quantity
    FROM detailimport
    WHERE IDPR = NEW.IDPR AND IDCO = NEW.IDCO;

    -- Cập nhật bảng detailproduct với tổng số lượng
    UPDATE detailproduct
    SET QUANITY = total_quantity
    WHERE IDPR = NEW.IDPR AND IDCO = NEW.IDCO;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `update_product_quanity` AFTER INSERT ON `detailimport` FOR EACH ROW BEGIN
    DECLARE total_quanity INT;
    SELECT SUM(QUANITY) INTO total_quanity FROM detailimport WHERE IDIM = NEW.IDIM;
    
    UPDATE import SET quanity = total_quanity WHERE IDIM = NEW.IDIM;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `update_product_query1` AFTER INSERT ON `detailimport` FOR EACH ROW BEGIN
    DECLARE total_quanity INT;
    SELECT SUM(QUANITY*IMPROTPRICE) INTO total_quanity FROM detailimport WHERE IDIM = NEW.IDIM;
    
    UPDATE import SET TOTALPAYMENT = total_quanity WHERE IDIM = NEW.IDIM;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `detailorder`
--

CREATE TABLE `detailorder` (
  `IDPR` int(11) NOT NULL,
  `QUANITY` int(11) NOT NULL,
  `PAYMENT` double NOT NULL DEFAULT 0,
  `IDOR` int(11) NOT NULL,
  `IDCO` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Chi tiết phiếu hàng';

--
-- Dumping data for table `detailorder`
--

INSERT INTO `detailorder` (`IDPR`, `QUANITY`, `PAYMENT`, `IDOR`, `IDCO`) VALUES
(1, 2, 100000, 1, 3),
(1, 34, 1700000, 13, 5),
(3, 60, 3600000, 15, 18),
(3, 23, 1380000, 19, 20),
(3, 12, 720000, 21, 5),
(3, 12, 720000, 21, 11),
(3, 5, 300000, 22, 3),
(4, 96, 4320000, 9, 7),
(4, 57, 2565000, 11, 19),
(5, 95, 4940000, 8, 1),
(5, 75, 3900000, 8, 13),
(5, 42, 2184000, 14, 3),
(8, 42, 2016000, 9, 19),
(8, 64, 3072000, 11, 15),
(8, 5, 240000, 13, 1),
(8, 67, 3216000, 15, 13),
(9, 79, 4187000, 5, 14),
(9, 46, 2438000, 12, 11),
(9, 50, 2650000, 16, 8),
(10, 16, 896000, 1, 14),
(10, 41, 2296000, 5, 18),
(10, 90, 5040000, 14, 13),
(10, 89, 4984000, 14, 15),
(10, 17, 952000, 20, 10),
(11, 87, 5307000, 10, 15),
(11, 29, 1769000, 11, 17),
(11, 30, 1830000, 13, 5),
(12, 43, 2322000, 5, 17),
(14, 46, 2530000, 4, 10),
(16, 72, 3672000, 6, 3),
(16, 41, 2091000, 16, 12),
(17, 82, 4592000, 15, 5),
(18, 34, 2074000, 6, 5),
(18, 36, 2196000, 7, 10),
(19, 3, 150000, 13, 1),
(21, 48, 2880000, 13, 15),
(22, 65, 2925000, 9, 5),
(22, 46, 2070000, 10, 1),
(22, 12, 540000, 16, 11),
(23, 9, 468000, 11, 8),
(23, 31, 1612000, 14, 9),
(23, 53, 2756000, 16, 8),
(24, 2, 114000, 3, 13),
(25, 59, 3658000, 19, 16),
(26, 52, 3016000, 9, 10),
(27, 10, 520000, 5, 18),
(28, 97, 5335000, 11, 13),
(31, 92, 4692000, 1, 8),
(32, 28, 1512000, 15, 18),
(34, 5, 310000, 10, 3),
(35, 86, 4902000, 10, 15),
(35, 35, 1995000, 17, 4),
(36, 2, 120000, 3, 13);

--
-- Triggers `detailorder`
--
DELIMITER $$
CREATE TRIGGER `update_totalproduct_after_insert` AFTER INSERT ON `detailorder` FOR EACH ROW BEGIN
    DECLARE total_quantity INT;

    -- Tính tổng quantity cho IDOR mới được chèn vào
    SELECT SUM(quanity) INTO total_quantity
    FROM detailorder
    WHERE IDOR = NEW.IDOR;

    -- Cập nhật totalproduct trong bảng order
    UPDATE `order`
    SET totalproduct = total_quantity
    WHERE IDOR = NEW.IDOR;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `update_totalproduct_after_insert1` AFTER INSERT ON `detailorder` FOR EACH ROW BEGIN
    DECLARE total_payment DOUBLE;

    -- Tính tổng payment cho IDOR mới được chèn vào
    SELECT SUM(PAYMENT) INTO total_payment
    FROM detailorder
    WHERE IDOR = NEW.IDOR;

    -- Cập nhật totalpayment trong bảng order
    UPDATE `order`
    SET totalpayment = total_payment
    WHERE IDOR = NEW.IDOR;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `detailpermission`
--

CREATE TABLE `detailpermission` (
  `IDAB` int(11) NOT NULL,
  `IDPE` int(10) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Chi tiết nhóm quyền';

--
-- Dumping data for table `detailpermission`
--

INSERT INTO `detailpermission` (`IDAB`, `IDPE`) VALUES
(1, 1),
(1, 2),
(2, 1),
(3, 1),
(3, 2),
(4, 1),
(5, 1),
(6, 1),
(6, 2),
(7, 1),
(8, 1),
(8, 2),
(9, 1),
(10, 1),
(11, 1),
(11, 2),
(14, 1),
(14, 2),
(15, 1),
(16, 1),
(21, 1),
(22, 1),
(22, 2),
(25, 1),
(25, 2),
(26, 1),
(29, 1),
(29, 2),
(30, 1),
(31, 1),
(31, 6),
(32, 1),
(32, 2),
(33, 1);

-- --------------------------------------------------------

--
-- Table structure for table `detailproduct`
--

CREATE TABLE `detailproduct` (
  `IDPR` int(11) NOT NULL,
  `QUANITY` int(11) NOT NULL,
  `IDCO` int(11) NOT NULL,
  `status` int(1) DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Chi tiết sản phẩm ';

--
-- Dumping data for table `detailproduct`
--

INSERT INTO `detailproduct` (`IDPR`, `QUANITY`, `IDCO`, `status`) VALUES
(1, 5, 1, 1),
(1, 10, 2, 1),
(1, 15, 3, 1),
(1, 20, 4, 1),
(1, 25, 5, 1),
(1, 30, 6, 1),
(1, 35, 7, 1),
(1, 40, 8, 1),
(1, 45, 9, 1),
(1, 50, 10, 1),
(1, 55, 11, 1),
(1, 60, 12, 1),
(1, 65, 13, 1),
(1, 70, 14, 1),
(1, 75, 15, 1),
(1, 80, 16, 1),
(1, 85, 17, 1),
(1, 90, 18, 1),
(1, 95, 19, 1),
(1, 100, 20, 1),
(1, 105, 21, 1),
(2, 5, 1, 1),
(2, 10, 2, 1),
(2, 15, 3, 1),
(2, 20, 4, 1),
(2, 25, 5, 1),
(2, 30, 6, 1),
(2, 35, 7, 1),
(2, 40, 8, 1),
(2, 45, 9, 1),
(2, 50, 10, 1),
(2, 55, 11, 1),
(2, 60, 12, 1),
(2, 65, 13, 1),
(2, 70, 14, 1),
(2, 75, 15, 1),
(2, 80, 16, 1),
(2, 85, 17, 1),
(2, 90, 18, 1),
(2, 95, 19, 1),
(2, 100, 20, 1),
(2, 105, 21, 1),
(3, 5, 1, 1),
(3, 10, 2, 1),
(3, 0, 3, 1),
(3, 20, 4, 1),
(3, -19, 5, 1),
(3, 30, 6, 1),
(3, 35, 7, 1),
(3, 40, 8, 1),
(3, 45, 9, 1),
(3, 50, 10, 1),
(3, -19, 11, 1),
(3, 60, 12, 1),
(3, 65, 13, 1),
(3, 70, 14, 1),
(3, 75, 15, 1),
(3, 80, 16, 1),
(3, 85, 17, 1),
(3, 90, 18, 1),
(3, 95, 19, 1),
(3, 100, 20, 1),
(3, 105, 21, 1),
(4, 5, 1, 1),
(4, 10, 2, 1),
(4, 15, 3, 1),
(4, 20, 4, 1),
(4, 25, 5, 1),
(4, 30, 6, 1),
(4, 35, 7, 1),
(4, 40, 8, 1),
(4, 45, 9, 1),
(4, 50, 10, 1),
(4, 55, 11, 1),
(4, 60, 12, 1),
(4, 65, 13, 1),
(4, 70, 14, 1),
(4, 75, 15, 1),
(4, 80, 16, 1),
(4, 85, 17, 1),
(4, 90, 18, 1),
(4, 95, 19, 1),
(4, 100, 20, 1),
(4, 105, 21, 1),
(5, 5, 1, 1),
(5, 10, 2, 1),
(5, 15, 3, 1),
(5, 20, 4, 1),
(5, 25, 5, 1),
(5, 30, 6, 1),
(5, 35, 7, 1),
(5, 40, 8, 1),
(5, 45, 9, 1),
(5, 50, 10, 1),
(5, 55, 11, 1),
(5, 60, 12, 1),
(5, 65, 13, 1),
(5, 70, 14, 1),
(5, 75, 15, 1),
(5, 80, 16, 1),
(5, 85, 17, 1),
(5, 90, 18, 1),
(5, 95, 19, 1),
(5, 100, 20, 1),
(5, 105, 21, 1),
(6, 5, 1, 1),
(6, 10, 2, 1),
(6, 15, 3, 1),
(6, 20, 4, 1),
(6, 25, 5, 1),
(6, 30, 6, 1),
(6, 35, 7, 1),
(6, 40, 8, 1),
(6, 45, 9, 1),
(6, 50, 10, 1),
(6, 55, 11, 1),
(6, 60, 12, 1),
(6, 65, 13, 1),
(6, 70, 14, 1),
(6, 75, 15, 1),
(6, 80, 16, 1),
(6, 85, 17, 1),
(6, 90, 18, 1),
(6, 95, 19, 1),
(6, 100, 20, 1),
(6, 105, 21, 1),
(7, 5, 1, 1),
(7, 10, 2, 1),
(7, 15, 3, 1),
(7, 20, 4, 1),
(7, 25, 5, 1),
(7, 30, 6, 1),
(7, 35, 7, 1),
(7, 40, 8, 1),
(7, 45, 9, 1),
(7, 50, 10, 1),
(7, 55, 11, 1),
(7, 60, 12, 1),
(7, 65, 13, 1),
(7, 70, 14, 1),
(7, 75, 15, 1),
(7, 80, 16, 1),
(7, 85, 17, 1),
(7, 90, 18, 1),
(7, 95, 19, 1),
(7, 100, 20, 1),
(7, 105, 21, 1),
(8, 5, 1, 1),
(8, 10, 2, 1),
(8, 15, 3, 1),
(8, 20, 4, 1),
(8, 25, 5, 1),
(8, 30, 6, 1),
(8, 35, 7, 1),
(8, 40, 8, 1),
(8, 45, 9, 1),
(8, 50, 10, 1),
(8, 55, 11, 1),
(8, 60, 12, 1),
(8, 65, 13, 1),
(8, 70, 14, 1),
(8, 75, 15, 1),
(8, 80, 16, 1),
(8, 85, 17, 1),
(8, 90, 18, 1),
(8, 95, 19, 1),
(8, 100, 20, 1),
(8, 105, 21, 1),
(9, 5, 1, 1),
(9, 10, 2, 1),
(9, 15, 3, 1),
(9, 20, 4, 1),
(9, 25, 5, 1),
(9, 30, 6, 1),
(9, 35, 7, 1),
(9, 40, 8, 1),
(9, 45, 9, 1),
(9, 50, 10, 1),
(9, 55, 11, 1),
(9, 60, 12, 1),
(9, 65, 13, 1),
(9, 70, 14, 1),
(9, 75, 15, 1),
(9, 80, 16, 1),
(9, 85, 17, 1),
(9, 90, 18, 1),
(9, 95, 19, 1),
(9, 100, 20, 1),
(9, 105, 21, 1),
(10, 5, 1, 1),
(10, 10, 2, 1),
(10, 15, 3, 1),
(10, 20, 4, 1),
(10, 25, 5, 1),
(10, 30, 6, 1),
(10, 35, 7, 1),
(10, 40, 8, 1),
(10, 45, 9, 1),
(10, 50, 10, 1),
(10, 55, 11, 1),
(10, 60, 12, 1),
(10, 65, 13, 1),
(10, 70, 14, 1),
(10, 75, 15, 1),
(10, 80, 16, 1),
(10, 85, 17, 1),
(10, 90, 18, 1),
(10, 95, 19, 1),
(10, 100, 20, 1),
(10, 105, 21, 1),
(11, 5, 1, 1),
(11, 10, 2, 1),
(11, 15, 3, 1),
(11, 20, 4, 1),
(11, 25, 5, 1),
(11, 30, 6, 1),
(11, 35, 7, 1),
(11, 40, 8, 1),
(11, 45, 9, 1),
(11, 50, 10, 1),
(11, 55, 11, 1),
(11, 60, 12, 1),
(11, 65, 13, 1),
(11, 70, 14, 1),
(11, 75, 15, 1),
(11, 80, 16, 1),
(11, 85, 17, 1),
(11, 90, 18, 1),
(11, 95, 19, 1),
(11, 100, 20, 1),
(11, 105, 21, 1),
(12, 5, 1, 1),
(12, 10, 2, 1),
(12, 15, 3, 1),
(12, 20, 4, 1),
(12, 25, 5, 1),
(12, 30, 6, 1),
(12, 35, 7, 1),
(12, 40, 8, 1),
(12, 45, 9, 1),
(12, 50, 10, 1),
(12, 55, 11, 1),
(12, 60, 12, 1),
(12, 65, 13, 1),
(12, 70, 14, 1),
(12, 75, 15, 1),
(12, 80, 16, 1),
(12, 85, 17, 1),
(12, 90, 18, 1),
(12, 95, 19, 1),
(12, 100, 20, 1),
(12, 105, 21, 1),
(13, 5, 1, 1),
(13, 10, 2, 1),
(13, 15, 3, 1),
(13, 20, 4, 1),
(13, 25, 5, 1),
(13, 30, 6, 1),
(13, 35, 7, 1),
(13, 40, 8, 1),
(13, 45, 9, 1),
(13, 50, 10, 1),
(13, 55, 11, 1),
(13, 60, 12, 1),
(13, 65, 13, 1),
(13, 70, 14, 1),
(13, 75, 15, 1),
(13, 80, 16, 1),
(13, 85, 17, 1),
(13, 90, 18, 1),
(13, 95, 19, 1),
(13, 100, 20, 1),
(13, 105, 21, 1),
(14, 5, 1, 1),
(14, 10, 2, 1),
(14, 15, 3, 1),
(14, 20, 4, 1),
(14, 25, 5, 1),
(14, 30, 6, 1),
(14, 35, 7, 1),
(14, 40, 8, 1),
(14, 45, 9, 1),
(14, 50, 10, 1),
(14, 55, 11, 1),
(14, 60, 12, 1),
(14, 65, 13, 1),
(14, 70, 14, 1),
(14, 75, 15, 1),
(14, 80, 16, 1),
(14, 85, 17, 1),
(14, 90, 18, 1),
(14, 95, 19, 1),
(14, 100, 20, 1),
(14, 105, 21, 1),
(15, 5, 1, 1),
(15, 10, 2, 1),
(15, 15, 3, 1),
(15, 20, 4, 1),
(15, 25, 5, 1),
(15, 30, 6, 1),
(15, 35, 7, 1),
(15, 40, 8, 1),
(15, 45, 9, 1),
(15, 50, 10, 1),
(15, 55, 11, 1),
(15, 60, 12, 1),
(15, 65, 13, 1),
(15, 70, 14, 1),
(15, 75, 15, 1),
(15, 80, 16, 1),
(15, 85, 17, 1),
(15, 90, 18, 1),
(15, 95, 19, 1),
(15, 100, 20, 1),
(15, 105, 21, 1),
(16, 5, 1, 1),
(16, 10, 2, 1),
(16, 15, 3, 1),
(16, 20, 4, 1),
(16, 25, 5, 1),
(16, 30, 6, 1),
(16, 35, 7, 1),
(16, 40, 8, 1),
(16, 45, 9, 1),
(16, 50, 10, 1),
(16, 55, 11, 1),
(16, 60, 12, 1),
(16, 65, 13, 1),
(16, 70, 14, 1),
(16, 75, 15, 1),
(16, 80, 16, 1),
(16, 85, 17, 1),
(16, 90, 18, 1),
(16, 95, 19, 1),
(16, 100, 20, 1),
(16, 105, 21, 1),
(17, 5, 1, 1),
(17, 10, 2, 1),
(17, 15, 3, 1),
(17, 20, 4, 1),
(17, 25, 5, 1),
(17, 30, 6, 1),
(17, 35, 7, 1),
(17, 40, 8, 1),
(17, 45, 9, 1),
(17, 50, 10, 1),
(17, 55, 11, 1),
(17, 60, 12, 1),
(17, 65, 13, 1),
(17, 70, 14, 1),
(17, 75, 15, 1),
(17, 80, 16, 1),
(17, 85, 17, 1),
(17, 90, 18, 1),
(17, 95, 19, 1),
(17, 100, 20, 1),
(17, 105, 21, 1),
(18, 5, 1, 1),
(18, 10, 2, 1),
(18, 15, 3, 1),
(18, 20, 4, 1),
(18, 25, 5, 1),
(18, 30, 6, 1),
(18, 35, 7, 1),
(18, 40, 8, 1),
(18, 45, 9, 1),
(18, 50, 10, 1),
(18, 55, 11, 1),
(18, 60, 12, 1),
(18, 65, 13, 1),
(18, 70, 14, 1),
(18, 75, 15, 1),
(18, 80, 16, 1),
(18, 85, 17, 1),
(18, 90, 18, 1),
(18, 95, 19, 1),
(18, 100, 20, 1),
(18, 105, 21, 1),
(19, 5, 1, 1),
(19, 10, 2, 1),
(19, 15, 3, 1),
(19, 20, 4, 1),
(19, 25, 5, 1),
(19, 30, 6, 1),
(19, 35, 7, 1),
(19, 40, 8, 1),
(19, 45, 9, 1),
(19, 50, 10, 1),
(19, 55, 11, 1),
(19, 60, 12, 1),
(19, 65, 13, 1),
(19, 70, 14, 1),
(19, 75, 15, 1),
(19, 80, 16, 1),
(19, 85, 17, 1),
(19, 90, 18, 1),
(19, 95, 19, 1),
(19, 100, 20, 1),
(19, 105, 21, 1),
(20, 5, 1, 1),
(20, 10, 2, 1),
(20, 15, 3, 1),
(20, 20, 4, 1),
(20, 25, 5, 1),
(20, 30, 6, 1),
(20, 35, 7, 1),
(20, 40, 8, 1),
(20, 45, 9, 1),
(20, 50, 10, 1),
(20, 55, 11, 1),
(20, 60, 12, 1),
(20, 65, 13, 1),
(20, 70, 14, 1),
(20, 75, 15, 1),
(20, 80, 16, 1),
(20, 85, 17, 1),
(20, 90, 18, 1),
(20, 95, 19, 1),
(20, 100, 20, 1),
(20, 105, 21, 1),
(21, 5, 1, 1),
(21, 10, 2, 1),
(21, 15, 3, 1),
(21, 20, 4, 1),
(21, 25, 5, 1),
(21, 30, 6, 1),
(21, 35, 7, 1),
(21, 40, 8, 1),
(21, 45, 9, 1),
(21, 50, 10, 1),
(21, 55, 11, 1),
(21, 60, 12, 1),
(21, 65, 13, 1),
(21, 70, 14, 1),
(21, 75, 15, 1),
(21, 80, 16, 1),
(21, 85, 17, 1),
(21, 90, 18, 1),
(21, 95, 19, 1),
(21, 100, 20, 1),
(21, 105, 21, 1),
(22, 5, 1, 1),
(22, 10, 2, 1),
(22, 15, 3, 1),
(22, 20, 4, 1),
(22, 25, 5, 1),
(22, 30, 6, 1),
(22, 35, 7, 1),
(22, 40, 8, 1),
(22, 45, 9, 1),
(22, 50, 10, 1),
(22, 55, 11, 1),
(22, 60, 12, 1),
(22, 65, 13, 1),
(22, 70, 14, 1),
(22, 75, 15, 1),
(22, 80, 16, 1),
(22, 85, 17, 1),
(22, 90, 18, 1),
(22, 95, 19, 1),
(22, 100, 20, 1),
(22, 105, 21, 1),
(23, 5, 1, 1),
(23, 10, 2, 1),
(23, 15, 3, 1),
(23, 20, 4, 1),
(23, 25, 5, 1),
(23, 30, 6, 1),
(23, 35, 7, 1),
(23, 40, 8, 1),
(23, 45, 9, 1),
(23, 50, 10, 1),
(23, 55, 11, 1),
(23, 60, 12, 1),
(23, 65, 13, 1),
(23, 70, 14, 1),
(23, 75, 15, 1),
(23, 80, 16, 1),
(23, 85, 17, 1),
(23, 90, 18, 1),
(23, 95, 19, 1),
(23, 100, 20, 1),
(23, 105, 21, 1),
(24, 5, 1, 1),
(24, 10, 2, 1),
(24, 15, 3, 1),
(24, 20, 4, 1),
(24, 25, 5, 1),
(24, 30, 6, 1),
(24, 35, 7, 1),
(24, 40, 8, 1),
(24, 45, 9, 1),
(24, 50, 10, 1),
(24, 55, 11, 1),
(24, 60, 12, 1),
(24, 65, 13, 1),
(24, 70, 14, 1),
(24, 75, 15, 1),
(24, 80, 16, 1),
(24, 85, 17, 1),
(24, 90, 18, 1),
(24, 95, 19, 1),
(24, 100, 20, 1),
(24, 105, 21, 1),
(25, 5, 1, 1),
(25, 10, 2, 1),
(25, 15, 3, 1),
(25, 20, 4, 1),
(25, 25, 5, 1),
(25, 30, 6, 1),
(25, 35, 7, 1),
(25, 40, 8, 1),
(25, 45, 9, 1),
(25, 50, 10, 1),
(25, 55, 11, 1),
(25, 60, 12, 1),
(25, 65, 13, 1),
(25, 70, 14, 1),
(25, 75, 15, 1),
(25, 80, 16, 1),
(25, 85, 17, 1),
(25, 90, 18, 1),
(25, 95, 19, 1),
(25, 100, 20, 1),
(25, 105, 21, 1),
(26, 5, 1, 1),
(26, 10, 2, 1),
(26, 15, 3, 1),
(26, 20, 4, 1),
(26, 25, 5, 1),
(26, 30, 6, 1),
(26, 35, 7, 1),
(26, 40, 8, 1),
(26, 45, 9, 1),
(26, 50, 10, 1),
(26, 55, 11, 1),
(26, 60, 12, 1),
(26, 65, 13, 1),
(26, 70, 14, 1),
(26, 75, 15, 1),
(26, 80, 16, 1),
(26, 85, 17, 1),
(26, 90, 18, 1),
(26, 95, 19, 1),
(26, 100, 20, 1),
(26, 105, 21, 1),
(27, 5, 1, 1),
(27, 10, 2, 1),
(27, 15, 3, 1),
(27, 20, 4, 1),
(27, 25, 5, 1),
(27, 30, 6, 1),
(27, 35, 7, 1),
(27, 40, 8, 1),
(27, 45, 9, 1),
(27, 50, 10, 1),
(27, 55, 11, 1),
(27, 60, 12, 1),
(27, 65, 13, 1),
(27, 70, 14, 1),
(27, 75, 15, 1),
(27, 80, 16, 1),
(27, 85, 17, 1),
(27, 90, 18, 1),
(27, 95, 19, 1),
(27, 100, 20, 1),
(27, 105, 21, 1),
(28, 5, 1, 1),
(28, 10, 2, 1),
(28, 15, 3, 1),
(28, 20, 4, 1),
(28, 25, 5, 1),
(28, 30, 6, 1),
(28, 35, 7, 1),
(28, 40, 8, 1),
(28, 45, 9, 1),
(28, 50, 10, 1),
(28, 55, 11, 1),
(28, 60, 12, 1),
(28, 65, 13, 1),
(28, 70, 14, 1),
(28, 75, 15, 1),
(28, 80, 16, 1),
(28, 85, 17, 1),
(28, 90, 18, 1),
(28, 95, 19, 1),
(28, 100, 20, 1),
(28, 105, 21, 1),
(29, 5, 1, 1),
(29, 10, 2, 1),
(29, 15, 3, 1),
(29, 20, 4, 1),
(29, 25, 5, 1),
(29, 30, 6, 1),
(29, 35, 7, 1),
(29, 40, 8, 1),
(29, 45, 9, 1),
(29, 50, 10, 1),
(29, 55, 11, 1),
(29, 60, 12, 1),
(29, 65, 13, 1),
(29, 70, 14, 1),
(29, 75, 15, 1),
(29, 80, 16, 1),
(29, 85, 17, 1),
(29, 90, 18, 1),
(29, 95, 19, 1),
(29, 100, 20, 1),
(29, 105, 21, 1),
(30, 5, 1, 1),
(30, 10, 2, 1),
(30, 15, 3, 1),
(30, 20, 4, 1),
(30, 25, 5, 1),
(30, 30, 6, 1),
(30, 35, 7, 1),
(30, 40, 8, 1),
(30, 45, 9, 1),
(30, 50, 10, 1),
(30, 55, 11, 1),
(30, 60, 12, 1),
(30, 65, 13, 1),
(30, 70, 14, 1),
(30, 75, 15, 1),
(30, 80, 16, 1),
(30, 85, 17, 1),
(30, 90, 18, 1),
(30, 95, 19, 1),
(30, 100, 20, 1),
(30, 105, 21, 1),
(31, 5, 1, 1),
(31, 10, 2, 1),
(31, 15, 3, 1),
(31, 20, 4, 1),
(31, 25, 5, 1),
(31, 30, 6, 1),
(31, 35, 7, 1),
(31, 40, 8, 1),
(31, 45, 9, 1),
(31, 50, 10, 1),
(31, 55, 11, 1),
(31, 60, 12, 1),
(31, 65, 13, 1),
(31, 70, 14, 1),
(31, 75, 15, 1),
(31, 80, 16, 1),
(31, 85, 17, 1),
(31, 90, 18, 1),
(31, 95, 19, 1),
(31, 100, 20, 1),
(31, 105, 21, 1),
(32, 5, 1, 1),
(32, 10, 2, 1),
(32, 15, 3, 1),
(32, 20, 4, 1),
(32, 25, 5, 1),
(32, 30, 6, 1),
(32, 35, 7, 1),
(32, 40, 8, 1),
(32, 45, 9, 1),
(32, 50, 10, 1),
(32, 55, 11, 1),
(32, 60, 12, 1),
(32, 65, 13, 1),
(32, 70, 14, 1),
(32, 75, 15, 1),
(32, 80, 16, 1),
(32, 85, 17, 1),
(32, 90, 18, 1),
(32, 95, 19, 1),
(32, 100, 20, 1),
(32, 105, 21, 1),
(33, 5, 1, 1),
(33, 10, 2, 1),
(33, 15, 3, 1),
(33, 20, 4, 1),
(33, 25, 5, 1),
(33, 30, 6, 1),
(33, 35, 7, 1),
(33, 40, 8, 1),
(33, 45, 9, 1),
(33, 50, 10, 1),
(33, 55, 11, 1),
(33, 60, 12, 1),
(33, 65, 13, 1),
(33, 70, 14, 1),
(33, 75, 15, 1),
(33, 80, 16, 1),
(33, 85, 17, 1),
(33, 90, 18, 1),
(33, 95, 19, 1),
(33, 100, 20, 1),
(33, 105, 21, 1),
(34, 5, 1, 1),
(34, 10, 2, 1),
(34, 15, 3, 1),
(34, 20, 4, 1),
(34, 25, 5, 1),
(34, 30, 6, 1),
(34, 35, 7, 1),
(34, 40, 8, 1),
(34, 45, 9, 1),
(34, 50, 10, 1),
(34, 55, 11, 1),
(34, 60, 12, 1),
(34, 65, 13, 1),
(34, 70, 14, 1),
(34, 75, 15, 1),
(34, 80, 16, 1),
(34, 85, 17, 1),
(34, 90, 18, 1),
(34, 95, 19, 1),
(34, 100, 20, 1),
(34, 105, 21, 1),
(35, 5, 1, 1),
(35, 10, 2, 1),
(35, 15, 3, 1),
(35, 20, 4, 1),
(35, 25, 5, 1),
(35, 30, 6, 1),
(35, 35, 7, 1),
(35, 40, 8, 1),
(35, 45, 9, 1),
(35, 50, 10, 1),
(35, 55, 11, 1),
(35, 60, 12, 1),
(35, 65, 13, 1),
(35, 70, 14, 1),
(35, 75, 15, 1),
(35, 80, 16, 1),
(35, 85, 17, 1),
(35, 90, 18, 1),
(35, 95, 19, 1),
(35, 100, 20, 1),
(35, 105, 21, 1),
(36, 5, 1, 1),
(36, 10, 2, 1),
(36, 15, 3, 1),
(36, 20, 4, 1),
(36, 25, 5, 1),
(36, 30, 6, 1),
(36, 35, 7, 1),
(36, 40, 8, 1),
(36, 45, 9, 1),
(36, 50, 10, 1),
(36, 55, 11, 1),
(36, 60, 12, 1),
(36, 65, 13, 1),
(36, 70, 14, 1),
(36, 75, 15, 1),
(36, 80, 16, 1),
(36, 85, 17, 1),
(36, 90, 18, 1),
(36, 95, 19, 1),
(36, 100, 20, 1),
(36, 105, 21, 1);

--
-- Triggers `detailproduct`
--
DELIMITER $$
CREATE TRIGGER `deleteDetailProduct` AFTER DELETE ON `detailproduct` FOR EACH ROW BEGIN
    DECLARE totalQuantity INT;
    
    -- Tính toán tổng lượng hàng tồn kho mới
    SELECT SUM(Quanity) INTO totalQuantity
    FROM DetailProduct
    WHERE IDPR = OLD.IDPR AND status = 1;

    -- Cập nhật tổng lượng hàng tồn kho trong bảng Product
    UPDATE Product
    SET Totalquanity = totalQuantity
    WHERE IDPR = OLD.IDPR;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `insertDetailProduct` AFTER INSERT ON `detailproduct` FOR EACH ROW BEGIN
    DECLARE totalQuantity INT;
    
    -- Tính toán tổng lượng hàng tồn kho mới
    SELECT SUM(Quanity) INTO totalQuantity
    FROM DetailProduct
    WHERE IDPR = NEW.IDPR and status =1;

    -- Cập nhật tổng lượng hàng tồn kho trong bảng Product
    UPDATE Product
    SET Totalquanity = totalQuantity
    WHERE IDPR = NEW.IDPR;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `updateDetailProduct` AFTER UPDATE ON `detailproduct` FOR EACH ROW BEGIN
    DECLARE totalQuantity INT;
    
    -- Tính toán tổng lượng hàng tồn kho mới
    SELECT SUM(Quanity) INTO totalQuantity
    FROM DetailProduct
    WHERE IDPR = NEW.IDPR AND status = 1;

    -- Cập nhật tổng lượng hàng tồn kho trong bảng Product
    UPDATE Product
    SET Totalquanity = totalQuantity
    WHERE IDPR = NEW.IDPR;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `import`
--

CREATE TABLE `import` (
  `IDIM` int(11) NOT NULL,
  `QUANITY` int(11) NOT NULL DEFAULT 0,
  `IMPORTINGDATE` varchar(50) NOT NULL DEFAULT '',
  `TOTALPAYMENT` double NOT NULL DEFAULT 0,
  `IDSU` int(20) NOT NULL DEFAULT 0,
  `IDAC` int(11) NOT NULL,
  `status` int(1) NOT NULL DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Phiếu nhập hàng';

--
-- Dumping data for table `import`
--

INSERT INTO `import` (`IDIM`, `QUANITY`, `IMPORTINGDATE`, `TOTALPAYMENT`, `IDSU`, `IDAC`, `status`) VALUES
(1, 180, '2024-05-16', 18000000, 2, 21, 1),
(2, 360, '2024-05-15', 36000000, 2, 21, 1),
(3, 540, '2024-05-14', 54000000, 2, 21, 1),
(4, 720, '2024-05-13', 72000000, 2, 21, 1),
(5, 900, '2024-05-12', 90000000, 2, 21, 1),
(6, 1080, '2024-05-11', 108000000, 2, 21, 1),
(7, 1260, '2024-05-10', 126000000, 2, 21, 1),
(8, 1440, '2024-05-9', 144000000, 2, 21, 1),
(9, 1620, '2024-05-8', 162000000, 2, 21, 1),
(10, 1800, '2024-05-7', 180000000, 2, 21, 1),
(11, 1980, '2024-05-6', 198000000, 2, 21, 1),
(12, 2160, '2024-05-5', 216000000, 2, 21, 1),
(13, 2340, '2024-05-4', 234000000, 2, 21, 1),
(14, 2520, '2024-05-3', 252000000, 2, 21, 1),
(15, 2700, '2024-05-2', 270000000, 2, 21, 1),
(16, 2880, '2024-05-1', 288000000, 2, 21, 1),
(17, 3060, '2024-4-30', 306000000, 2, 21, 1),
(18, 3240, '2024-4-29', 324000000, 2, 21, 1),
(19, 3420, '2024-4-28', 342000000, 2, 21, 1),
(20, 3600, '2024-4-27', 360000000, 2, 21, 1),
(21, 3780, '2024-4-26', 378000000, 2, 21, 1);

-- --------------------------------------------------------

--
-- Table structure for table `order`
--

CREATE TABLE `order` (
  `IDOR` int(11) NOT NULL,
  `ORDERDATE` varchar(50) NOT NULL DEFAULT '',
  `TOTALPAYMENT` double NOT NULL DEFAULT 0,
  `TOTALPRODUCT` int(11) NOT NULL DEFAULT 0,
  `IDAC` int(11) NOT NULL,
  `status` int(1) DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Phiếu đặt hàng';

--
-- Dumping data for table `order`
--

INSERT INTO `order` (`IDOR`, `ORDERDATE`, `TOTALPAYMENT`, `TOTALPRODUCT`, `IDAC`, `status`) VALUES
(1, '2024-05-16 14:00:00', 5688000, 110, 20, 2),
(2, '2024-05-15 13:30:00', 0, 135, 20, 2),
(3, '2024-05-14 12:15:00', 234000, 4, 20, 2),
(4, '2024-05-13 11:45:00', 2530000, 46, 20, 2),
(5, '2024-05-12 10:00:00', 9325000, 173, 20, 2),
(6, '2024-05-11 09:30:00', 5746000, 106, 20, 2),
(7, '2024-05-10 08:15:00', 2196000, 36, 20, 2),
(8, '2024-05-09 07:45:00', 8840000, 170, 20, 2),
(9, '2024-05-08 06:30:00', 12277000, 255, 20, 2),
(10, '2024-05-07 05:15:00', 12589000, 224, 20, 2),
(11, '2024-05-06 04:00:00', 13209000, 256, 20, 2),
(12, '2024-05-05 03:30:00', 2438000, 46, 20, 2),
(13, '2024-05-04 02:15:00', 6800000, 120, 20, 2),
(14, '2024-05-03 01:45:00', 13820000, 252, 20, 2),
(15, '2024-05-02 00:30:00', 12920000, 237, 20, 2),
(16, '2024-05-01 23:00:00', 8037000, 156, 20, 2),
(17, '2024-04-30 22:45:00', 1995000, 35, 20, 2),
(18, '2024-04-29 21:30:00', 0, 78, 20, 2),
(19, '2024-04-28 20:15:00', 5038000, 82, 20, 2),
(20, '2024-04-27 19:00:00', 952000, 17, 20, 2),
(21, '24-05-17 09:58:47 AM', 1440000, 24, 20, 2),
(22, '24-05-17 11:19:46 AM', 300000, 5, 20, 1);

-- --------------------------------------------------------

--
-- Table structure for table `permission`
--

CREATE TABLE `permission` (
  `IDPE` int(10) NOT NULL,
  `Name` varchar(50) NOT NULL DEFAULT '' COMMENT 'Tên nhóm quyền',
  `Description` varchar(100) DEFAULT '' COMMENT 'Mô tả nhóm quyền'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Nhóm quyền';

--
-- Dumping data for table `permission`
--

INSERT INTO `permission` (`IDPE`, `Name`, `Description`) VALUES
(1, 'Chủ doanh nghiệp', 'Nhóm quyền này có tất cả các quyền'),
(2, 'Admin', 'Nhóm quyền này được quyền chỉnh sửa các tài khoản'),
(3, 'Quản lý', 'Nhóm quyền chỉ được phép quản lý các hoạt động hàng ngày của cửa hàng.'),
(4, 'Nhân viên bán hàng', 'Nhóm quyền này có thể thực hiện các hoạt động bán hàng như tạo đơn hàng.'),
(5, 'Nhân viên kho', 'Nhóm quyền này chịu trách nhiệm quản lý hàng tồn kho và nhập hàng mới.'),
(6, 'Khách hàng', 'Nhóm quyền này không yêu cầu đăng nhập và chỉ có thể xem các sản phẩm và đặt hàng.'),
(7, 'a', '');

-- --------------------------------------------------------

--
-- Table structure for table `product`
--

CREATE TABLE `product` (
  `IDPR` int(11) NOT NULL,
  `NAME` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_vietnamese_ci NOT NULL,
  `RATINGPOINT` float NOT NULL DEFAULT 0,
  `STATUS` int(11) NOT NULL DEFAULT 0 COMMENT 'TRẠNG THÁI',
  `IMAGES` varchar(100) NOT NULL DEFAULT '0' COMMENT 'HÌNH ẢNH',
  `IDCA` int(10) NOT NULL,
  `Totalquanity` int(11) NOT NULL,
  `COST` float NOT NULL,
  `Description` char(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='SẢN PHẨM';

--
-- Dumping data for table `product`
--

INSERT INTO `product` (`IDPR`, `NAME`, `RATINGPOINT`, `STATUS`, `IMAGES`, `IDCA`, `Totalquanity`, `COST`, `Description`) VALUES
(1, 'Áo Sơ Mi Size M', 4.5, 1, 'image1.jpg', 2, 1155, 50000, ''),
(2, 'Áo Sơ Mi Size L', 4.2, 1, 'image2.jpg', 2, 1155, 55000, ''),
(3, 'Quần Jean Nam Size L', 4.8, 1, 'image3.jpg', 3, 1022, 60000, ''),
(4, 'Quần Jean Nam Size XL', 4.1, 1, 'image4.jpg', 3, 1155, 45000, ''),
(5, 'Quần Kaki Nam Size L', 4.6, 1, 'image5.jpg', 4, 1155, 52000, ''),
(6, 'Quần Kaki Name Size XL', 4.3, 1, 'image6.jpg', 4, 1155, 57000, ''),
(7, 'Áo Khoác Nam Size M', 4.9, 1, 'image7.jpg', 5, 1155, 62000, ''),
(8, 'Áo Khoác Nam Size L', 4, 1, 'image8.jpg', 5, 1155, 48000, ''),
(9, 'Đầm dạ Hội Size M', 4.7, 0, 'image9.jpg', 6, 1155, 53000, ''),
(10, 'Đầm dạ Hội Size L', 4.4, 1, 'image10.jpg', 6, 1155, 56000, ''),
(11, 'Váy Ngắn Dạo Size S', 4.8, 1, 'image11.jpg', 7, 1155, 61000, ''),
(12, 'Váy Dài Đi Chơi Size S', 4.2, 1, 'image12.jpg', 7, 1155, 54000, ''),
(13, 'Áo Len Nữ Size S', 4.6, 1, 'image13.jpg', 8, 1155, 49000, ''),
(14, 'Áo Len Nữ Size M', 4.1, 1, 'image14.jpg', 8, 1155, 55000, ''),
(15, 'Quần Short Kaki', 4.7, 1, 'image15.jpg', 9, 1155, 60000, ''),
(16, 'Quần Short Regular', 4.3, 1, 'image16.jpg', 9, 1155, 51000, ''),
(17, 'Áo Hoodie Nam Size L', 4.9, 1, 'image17.jpg', 10, 1155, 56000, ''),
(18, 'Áo Hoodie Nam Size XL', 4, 1, 'image18.jpg', 10, 1155, 61000, ''),
(19, 'Áo Sơ Mi Vải Oxford', 4.5, 1, 'image19.jpg', 2, 1155, 50000, ''),
(20, 'Áo Sơ Mi Nam Tay Ngắn', 4.2, 1, 'image20.jpg', 2, 1155, 55000, ''),
(21, 'Quần Jeans Nam Co Giãn', 4.8, 1, 'image21.jpg', 3, 1155, 60000, ''),
(22, 'Quần Jean Regular', 4.1, 1, 'image22.jpg', 3, 1155, 45000, ''),
(23, 'Quần Kaki Nam Kapo ', 4.6, 1, 'image23.jpg', 4, 1155, 52000, ''),
(24, 'Quần Kaki Cargo Pant', 4.3, 1, 'image24.jpg', 4, 1155, 57000, ''),
(25, 'Áo khoác Nam Jean', 4.9, 1, 'image25.jpg', 5, 1155, 62000, ''),
(26, 'Áo Khóa Lông', 4.7, 1, 'image26.jpg', 5, 1155, 58000, ''),
(27, 'Áo Sơ Mi Vãi Oxford', 4.2, 1, 'image27.jpg', 6, 1155, 52000, ''),
(28, 'Áo Sơ Mi Linen', 4.1, 1, 'image28.jpg', 6, 1155, 55000, ''),
(29, 'Quần Denim Ống Loe', 4.5, 1, 'image29.jpg', 7, 1155, 60000, ''),
(30, 'Quần Short Jeans Nữ', 4.3, 1, 'image30.jpg', 7, 1155, 63000, ''),
(31, 'Áo Len Sweater', 4.4, 1, 'image31.jpg', 8, 1155, 51000, ''),
(32, 'Áo Len Nam Marino', 4.6, 1, 'image32.jpg', 8, 1155, 54000, ''),
(33, 'Quần Short Kaki', 4.5, 1, 'image33.jpg', 9, 1155, 59000, ''),
(34, 'Mohair Short', 4.3, 1, 'image34.jpg', 9, 1155, 62000, ''),
(35, 'Áo Hoodie Space', 4.7, 1, 'image35.jpg', 10, 1155, 57000, ''),
(36, 'Áo Hoodie Basic', 4.8, 1, 'image36.jpg', 10, 1155, 60000, ''),
(37, 'abc', 0, 1, '1715919393_anh3.jpg', 10, 0, 25, ''),
(38, 'abv', 0, 1, '1715919338_anh2.jpg', 10, 0, 1, '');

-- --------------------------------------------------------

--
-- Table structure for table `rate`
--

CREATE TABLE `rate` (
  `IDRA` int(50) NOT NULL,
  `RATINGPONIT` float NOT NULL,
  `IDPR` int(11) NOT NULL,
  `IDAC` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='ĐÁNH GIÁ';

-- --------------------------------------------------------

--
-- Stand-in structure for view `revenue_statistics`
-- (See below for the actual view)
--
CREATE TABLE `revenue_statistics` (
`Product_Name` varchar(50)
,`Date` varchar(10)
,`Quantity_Sold` decimal(32,0)
,`Quantity_Imported` decimal(32,0)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `revenue_summary`
-- (See below for the actual view)
--
CREATE TABLE `revenue_summary` (
`transaction_type` varchar(6)
,`transaction_date` varchar(50)
,`total_payment` double
);

-- --------------------------------------------------------

--
-- Table structure for table `supplier`
--

CREATE TABLE `supplier` (
  `IDSU` int(20) NOT NULL,
  `EMAIL` varchar(20) NOT NULL DEFAULT '',
  `ADRESS` varchar(50) NOT NULL DEFAULT '',
  `PHONENUMBER` varchar(10) NOT NULL,
  `NAME` varchar(50) DEFAULT NULL,
  `status` char(1) NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Nhà cung cấp';

--
-- Dumping data for table `supplier`
--

INSERT INTO `supplier` (`IDSU`, `EMAIL`, `ADRESS`, `PHONENUMBER`, `NAME`, `status`) VALUES
(1, '', '', '0000000000', 'Nhà cung cấp khác', '1'),
(2, 'cungcap2@gmail.com', '456 Đường XYZ, Quận 2, Thành phố Hồ Chí Minh', '0902345678', 'Nhà Cung Cấp B', '1'),
(3, 'cungcap3@gmail.com', '789 Đường DEF, Quận 3, Thành phố Hồ Chí Minh', '903456789', 'Nhà Cung Cấp C', '1'),
(4, 'cungcap4@gmail.com', '1011 Đường GHI, Quận 4, Thành phố Hồ Chí Minh', '904567890', 'Nhà Cung Cấp D', '1'),
(5, 'cungcap5@gmail.com', '1213 Đường JKL, Quận 5, Thành phố Hồ Chí Minh', '905678901', 'Nhà Cung Cấp E', '1'),
(6, 'cungcap6@gmail.com', '1415 Đường MNO, Quận 6, Thành phố Hồ Chí Minh', '906789012', 'Nhà Cung Cấp F', '1'),
(7, 'cungcap7@gmail.com', '1617 Đường PQR, Quận 7, Thành phố Hồ Chí Minh', '907890123', 'Nhà Cung Cấp G', '1'),
(8, 'cungcap8@gmail.com', '1819 Đường STU, Quận 8, Thành phố Hồ Chí Minh', '908901234', 'Nhà Cung Cấp H', '1'),
(9, 'cungcap9@gmail.com', '2021 Đường VWX, Quận 9, Thành phố Hồ Chí Minh', '909012345', 'Nhà Cung Cấp I', '1'),
(10, 'cungcap10@gmail.com', '2223 Đường YZ, Quận 10, Thành phố Hồ Chí Minh', '900123456', 'Nhà Cung Cấp J', '1'),
(11, 'cungcap11@gmail.com', '2425 Đường KLM, Quận 11, Thành phố Hồ Chí Minh', '901234567', 'Nhà Cung Cấp K', '1'),
(12, 'cungcap12@gmail.com', '2627 Đường NOP, Quận 12, Thành phố Hồ Chí Minh', '902345678', 'Nhà Cung Cấp L', '1'),
(13, 'cungcap13@gmail.com', '2829 Đường QRS, Quận Gò Vấp, Thành phố Hồ Chí Minh', '903456789', 'Nhà Cung Cấp M', '1'),
(14, 'cungcap14@gmail.com', '3031 Đường TUV, Quận Tân Bình, Thành phố Hồ Chí Mi', '904567890', 'Nhà Cung Cấp N', '1'),
(15, 'cungcap15@gmail.com', '3233 Đường WXY, Quận Tân Phú, Thành phố Hồ Chí Min', '905678901', 'Nhà Cung Cấp O', '1'),
(16, 'cungcap16@gmail.com', '3435 Đường ZAB, Quận Bình Thạnh, Thành phố Hồ Chí ', '906789012', 'Nhà Cung Cấp P', '1'),
(17, 'cungcap17@gmail.com', '3637 Đường CDE, Quận Thủ Đức, Thành phố Hồ Chí Min', '907890123', 'Nhà Cung Cấp Q', '1'),
(18, 'cungcap18@gmail.com', '3839 Đường EFG, Quận Phú Nhuận, Thành phố Hồ Chí M', '908901234', 'Nhà Cung Cấp R', '1'),
(19, 'cungcap19@gmail.com', '4041 Đường HIJ, Quận Tân Phú, Thành phố Hồ Chí Min', '909012345', 'Nhà Cung Cấp S', '1'),
(20, 'cungcap20@gmail.com', '4243 Đường KLM, Quận Gò Vấp, Thành phố Hồ Chí Minh', '900123456', 'Nhà Cung Cấp T', '1'),
(21, 'test@test.test', 'test', '111111111', 'test', '1');

-- --------------------------------------------------------

--
-- Structure for view `revenue_statistics`
--
DROP TABLE IF EXISTS `revenue_statistics`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `revenue_statistics`  AS SELECT `p`.`NAME` AS `Product_Name`, date_format(`o`.`ORDERDATE`,'%Y-%m-%d') AS `Date`, coalesce(sum(`do`.`QUANITY`),0) AS `Quantity_Sold`, coalesce(sum(`di`.`QUANITY`),0) AS `Quantity_Imported` FROM (((`product` `p` left join `detailorder` `do` on(`p`.`IDPR` = `do`.`IDPR`)) left join `order` `o` on(`do`.`IDOR` = `o`.`IDOR`)) left join `detailimport` `di` on(`p`.`IDPR` = `di`.`IDPR`)) GROUP BY `p`.`NAME`, date_format(`o`.`ORDERDATE`,'%Y-%m-%d') ;

-- --------------------------------------------------------

--
-- Structure for view `revenue_summary`
--
DROP TABLE IF EXISTS `revenue_summary`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `revenue_summary`  AS SELECT 'Import' AS `transaction_type`, `import`.`IMPORTINGDATE` AS `transaction_date`, sum(`import`.`TOTALPAYMENT`) AS `total_payment` FROM `import` WHERE `import`.`status` = 1 GROUP BY `import`.`IMPORTINGDATE`union all select 'Order' AS `transaction_type`,`order`.`ORDERDATE` AS `transaction_date`,sum(`order`.`TOTALPAYMENT`) AS `total_payment` from `order` where `order`.`status` = 1 group by `order`.`ORDERDATE`  ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `ability`
--
ALTER TABLE `ability`
  ADD PRIMARY KEY (`IDAB`);

--
-- Indexes for table `account`
--
ALTER TABLE `account`
  ADD PRIMARY KEY (`IDAC`),
  ADD KEY `FK_ACCOUNT_PERMISSION` (`IDPE`);

--
-- Indexes for table `categories`
--
ALTER TABLE `categories`
  ADD PRIMARY KEY (`IDCA`);

--
-- Indexes for table `color`
--
ALTER TABLE `color`
  ADD PRIMARY KEY (`IDCO`);

--
-- Indexes for table `detailimport`
--
ALTER TABLE `detailimport`
  ADD PRIMARY KEY (`IDPR`,`IDIM`,`IDCO`),
  ADD KEY `FK_DETAILIMPORT_IMPORT` (`IDIM`),
  ADD KEY `FK_DETAILIMPORT_DETAILPRODUCT` (`IDCO`,`IDPR`);

--
-- Indexes for table `detailorder`
--
ALTER TABLE `detailorder`
  ADD PRIMARY KEY (`IDPR`,`IDOR`,`IDCO`),
  ADD KEY `FK_DETAILORDER_ORDER` (`IDOR`),
  ADD KEY `FK_DETAILORDER_DETAILPRODUCT` (`IDCO`,`IDPR`);

--
-- Indexes for table `detailpermission`
--
ALTER TABLE `detailpermission`
  ADD PRIMARY KEY (`IDAB`,`IDPE`),
  ADD KEY `FK_DETAILPERMISSION_PERMISSION` (`IDPE`);

--
-- Indexes for table `detailproduct`
--
ALTER TABLE `detailproduct`
  ADD PRIMARY KEY (`IDPR`,`IDCO`),
  ADD KEY `FK_DETAILPRODUCT_COLOR` (`IDCO`);

--
-- Indexes for table `import`
--
ALTER TABLE `import`
  ADD PRIMARY KEY (`IDIM`),
  ADD KEY `FK_IMPORT_ACCOUNT` (`IDAC`),
  ADD KEY `FK_IMPORT_SUPPLIER` (`IDSU`);

--
-- Indexes for table `order`
--
ALTER TABLE `order`
  ADD PRIMARY KEY (`IDOR`),
  ADD KEY `FK_ORDER_ACCOUNTNV` (`IDAC`);

--
-- Indexes for table `permission`
--
ALTER TABLE `permission`
  ADD PRIMARY KEY (`IDPE`);

--
-- Indexes for table `product`
--
ALTER TABLE `product`
  ADD PRIMARY KEY (`IDPR`),
  ADD KEY `FK_PRODUCT_CATEGORIES` (`IDCA`);

--
-- Indexes for table `rate`
--
ALTER TABLE `rate`
  ADD PRIMARY KEY (`IDRA`),
  ADD KEY `FK_RATE_ACCOUNT` (`IDAC`),
  ADD KEY `FK_RATE_PRODUCT` (`IDPR`);

--
-- Indexes for table `supplier`
--
ALTER TABLE `supplier`
  ADD PRIMARY KEY (`IDSU`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `ability`
--
ALTER TABLE `ability`
  MODIFY `IDAB` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=34;

--
-- AUTO_INCREMENT for table `account`
--
ALTER TABLE `account`
  MODIFY `IDAC` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;

--
-- AUTO_INCREMENT for table `categories`
--
ALTER TABLE `categories`
  MODIFY `IDCA` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT for table `color`
--
ALTER TABLE `color`
  MODIFY `IDCO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=22;

--
-- AUTO_INCREMENT for table `import`
--
ALTER TABLE `import`
  MODIFY `IDIM` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=22;

--
-- AUTO_INCREMENT for table `order`
--
ALTER TABLE `order`
  MODIFY `IDOR` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;

--
-- AUTO_INCREMENT for table `permission`
--
ALTER TABLE `permission`
  MODIFY `IDPE` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=79;

--
-- AUTO_INCREMENT for table `product`
--
ALTER TABLE `product`
  MODIFY `IDPR` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=39;

--
-- AUTO_INCREMENT for table `rate`
--
ALTER TABLE `rate`
  MODIFY `IDRA` int(50) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `supplier`
--
ALTER TABLE `supplier`
  MODIFY `IDSU` int(20) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=22;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `account`
--
ALTER TABLE `account`
  ADD CONSTRAINT `FK_ACCOUNT_PERMISSION` FOREIGN KEY (`IDPE`) REFERENCES `permission` (`IDPE`);

--
-- Constraints for table `detailimport`
--
ALTER TABLE `detailimport`
  ADD CONSTRAINT `FK_DETAILIMPORT_DETAILPRODUCT` FOREIGN KEY (`IDCO`,`IDPR`) REFERENCES `detailproduct` (`IDCO`, `IDPR`),
  ADD CONSTRAINT `FK_DETAILIMPORT_IMPORT` FOREIGN KEY (`IDIM`) REFERENCES `import` (`IDIM`);

--
-- Constraints for table `detailorder`
--
ALTER TABLE `detailorder`
  ADD CONSTRAINT `FK_DETAILORDER_DETAILPRODUCT` FOREIGN KEY (`IDCO`,`IDPR`) REFERENCES `detailproduct` (`IDCO`, `IDPR`),
  ADD CONSTRAINT `FK_DETAILORDER_ORDER` FOREIGN KEY (`IDOR`) REFERENCES `order` (`IDOR`);

--
-- Constraints for table `detailpermission`
--
ALTER TABLE `detailpermission`
  ADD CONSTRAINT `FK_DETAILPERMISSION_PERMISSION` FOREIGN KEY (`IDPE`) REFERENCES `permission` (`IDPE`),
  ADD CONSTRAINT `FK_DETAILPERMISSON_ABILITY` FOREIGN KEY (`IDAB`) REFERENCES `ability` (`IDAB`);

--
-- Constraints for table `detailproduct`
--
ALTER TABLE `detailproduct`
  ADD CONSTRAINT `FK_DETAILPRODUCT_COLOR` FOREIGN KEY (`IDCO`) REFERENCES `color` (`IDCO`),
  ADD CONSTRAINT `FK_DETAILPRODUCT_PRODUCT` FOREIGN KEY (`IDPR`) REFERENCES `product` (`IDPR`);

--
-- Constraints for table `import`
--
ALTER TABLE `import`
  ADD CONSTRAINT `FK_IMPORT_ACCOUNT` FOREIGN KEY (`IDAC`) REFERENCES `account` (`IDAC`),
  ADD CONSTRAINT `FK_IPORMT_SUPPLIER` FOREIGN KEY (`IDSU`) REFERENCES `supplier` (`IDSU`);

--
-- Constraints for table `order`
--
ALTER TABLE `order`
  ADD CONSTRAINT `FK_ORDER_ACCOUNTGU` FOREIGN KEY (`IDAC`) REFERENCES `account` (`IDAC`),
  ADD CONSTRAINT `FK_ORDER_ACCOUNTNV` FOREIGN KEY (`IDAC`) REFERENCES `account` (`IDAC`);

--
-- Constraints for table `product`
--
ALTER TABLE `product`
  ADD CONSTRAINT `FK_PRODUCT_CATEGORIES` FOREIGN KEY (`IDCA`) REFERENCES `categories` (`IDCA`);

--
-- Constraints for table `rate`
--
ALTER TABLE `rate`
  ADD CONSTRAINT `FK_RATE_ACCOUNT` FOREIGN KEY (`IDAC`) REFERENCES `account` (`IDAC`),
  ADD CONSTRAINT `FK_RATE_PRODUCT` FOREIGN KEY (`IDPR`) REFERENCES `product` (`IDPR`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
